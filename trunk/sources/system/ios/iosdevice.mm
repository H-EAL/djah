#include "system/ios/iosdevice.hpp"

#import <UIKit/UIKit.h>

namespace djah { namespace system {
	
	//----------------------------------------------------------------------------------------------
	device_ptr new_platform_specific_device()
	{
		return new iosdevice;
	}
	//----------------------------------------------------------------------------------------------
	
	
	
	//----------------------------------------------------------------------------------------------
	iosdevice::iosdevice()
		: window_(0)
	{
	}
	//----------------------------------------------------------------------------------------------
	
	
	//----------------------------------------------------------------------------------------------
	void iosdevice::createImpl()
	{
		window_ = [[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]];
		assert(window_ && driver_);
		driver_->create();
		[window_ makeKeyAndVisible];
	}
	//----------------------------------------------------------------------------------------------
	
	
	//----------------------------------------------------------------------------------------------
	void iosdevice::destroyImpl()
	{
		[window_ release];
	}
	//----------------------------------------------------------------------------------------------
	
	
	//----------------------------------------------------------------------------------------------
	bool iosdevice::runImpl()
	{
		return true;
	}
	//----------------------------------------------------------------------------------------------
	
} /*system*/ } /*djah*/
